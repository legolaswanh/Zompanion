# 过渡场景配置说明

## 流程

关卡结束 → 设置 TransitionSceneData（目标场景 + 文字 Key）→ 加载过渡场景 → 显示对应文字 → 等待/Timeline → 加载目标场景

## 1. 创建过渡场景

1. 在 Unity 中 **File → New Scene**，保存为 `TransitionScene.unity`（或任意名称）
2. 删除默认的 Main Camera（若有）
3. 创建 **UI → Canvas**（或使用现有 Canvas 预制体）
4. 在 Canvas 下创建多个 **Text** 子物体，分别显示不同关卡的过渡文字，例如：
   - `Text_Level2`：内容「第 2 关」
   - `Text_Level3`：内容「第 3 关」
   - `Text_MainMenu`：内容「返回主菜单」
5. 创建空物体，命名为 `TransitionController`
6. 在 `TransitionController` 上添加 **TransitionSceneController** 脚本

## 2. 配置 TransitionSceneController

- **Text Mappings**：添加映射
  - Key = `Level2`，Text Object = `Text_Level2` 的 GameObject
  - Key = `Level3`，Text Object = `Text_Level3` 的 GameObject
  - ...
- **Display Duration**：无 Timeline 时显示的时长（秒）
- **Default Next Scene**：无数据时的默认目标场景
- **Fade In Duration**：淡出黑屏显示过渡文字的时长
- **Fade Out Duration**：淡入黑屏后加载目标场景的时长
- **Timeline**（可选）：若有 Timeline，播放完成后才加载目标场景

## 3. 配置 LevelSceneManager

在关卡的 LevelSceneManager 上：
- **Next Scene Name**：目标场景名（如 `Level_3`）
- **Transition Scene Name**：过渡场景名（如 `TransitionScene`）
- **Transition Text Key**：要显示的文字 Key（如 `Level3`），需与 TransitionSceneController 的 Text Mappings 一致
- **Fade To Transition Duration**：关卡结束→过渡场景的淡入黑屏时长

## 4. 加入 Build Settings

**File → Build Settings**，将 `TransitionScene` 拖入 Scenes In Build。

## 示例

- Level 01 结束后 → Transition Scene Name = `TransitionScene`，Transition Text Key = `Level3`，Next Scene Name = `Level_3`
- 过渡场景加载 → 显示 Key 为 `Level3` 的文字 → 等待 displayDuration 或 Timeline 结束 → 加载 `Level_3`
